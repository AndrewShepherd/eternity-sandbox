<Window x:Class="Eternity.WpfApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Eternity.WpfApp"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800"
	>
	<Window.Resources>
		<local:MainWindowViewModel x:Key="MainWindowViewModel" />
		<Style TargetType="{x:Type Button}">
			<Setter Property="Margin" Value="3,3,3,3" />
			<Setter Property="Padding" Value="3,3,3,3" />
		</Style>
	</Window.Resources>
	<Grid DataContext="{StaticResource MainWindowViewModel}">
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="4*" />
			<ColumnDefinition Width="3*" />
		</Grid.ColumnDefinitions>
		<local:BoardDisplay
			Grid.Column="0"
			CanvasItems="{Binding CanvasItems}"
		/>
		<StackPanel Orientation="Vertical" Grid.Column="1">
			<StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
				<Button Command="{Binding ResetSequenceCommand}">
					Reset
				</Button>
				<Button Command="{Binding GenerateRandomCommand}">
					Random
				</Button>

				<Button Command="{Binding GoBackwardsCommand}">
					&lt; &lt; Backwards
				</Button>
				<Button Command="{Binding StepBackwardsCommand}">
					&lt; Step
				</Button>
				<Button Command="{Binding StopCommand}">
					Stop
				</Button>
				<Button Command="{Binding StepForwardCommand}">
					Step &gt;
				</Button>
				<Button Command="{Binding StartCommand}">
					Forwards &gt;&gt;
				</Button>
			</StackPanel>
			
			<local:SequenceControl
				Sequence="{Binding Sequence}" 
				SelectedSequenceIndex="{Binding Path=SelectedSequenceIndex,Mode=TwoWay}" 
			/>

			<TextBlock Text="{Binding SelectedSequenceIndex}" 
					   FontSize="16" FontFamily="Courier New"
					   HorizontalAlignment="Center"
					    />
			<StackPanel Orientation="Horizontal">
				<TextBlock>Placements: </TextBlock>
				<TextBlock Text="{Binding PlacementCount}" />
			</StackPanel>

		</StackPanel>
	</Grid>
</Window>
